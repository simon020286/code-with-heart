---
import { getCollection } from "astro:content";

import BaseLayout from "../layouts/BaseLayout.astro";
import Navigation from "../components/Navigation.astro";
import BlogCard from "../components/BlogCard.astro";

const allPosts = await getCollection("posts");
//  Astro.glob('../pages/posts/*.md');
const pageTitle = "Blog";
---
<BaseLayout pageTitle={pageTitle}>
	<Navigation />
	<ul>
		{ allPosts.map(post => <BlogCard url={`/posts/${post.slug}`} title={post.data.title} />) }
	</ul>
</BaseLayout>